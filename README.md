TEST

echo -e "hello\nworld" > infile
./pipex infile "ls -l" "wc -l" outfile

bonus
echo -e "hello\nworld\nfoo\nbar" > infile
./pipex_bonus infile "grep o" "sort" "wc -l" outfile
< infile grep o | sort | wc -l > outfile

./pipex_bonus here_doc EOF "cat" "wc -l" outfile

valgrind
valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes ./pipex infile "ls -l" "wc -l" outfile

## Data pid_t
ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ int, Ğ½Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: Â«Ğ½Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ int, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ pid_tÂ». PID = Process ID â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ñ‹Ğ´Ğ°Ñ‘Ñ‚ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼Ñƒ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑƒ Ğ¿Ñ€Ğ¸ ĞµĞ³Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸.

## Func pipe()
ÑÑ‚Ğ¾ Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ», ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ ÑĞ´Ñ€Ğ°, Ğ½ĞµĞ»ÑŒĞ·Ñ Â«Ğ½Ğ°Ğ¹Ñ‚Ğ¸Â» ĞµĞ³Ğ¾ Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ  Ğ¸ÑÑ‡ĞµĞ·Ğ°ĞµÑ‚, ĞºĞ°Ğº Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ±Ğ° ĞºĞ¾Ğ½Ñ†Ğ° (fd[0] Ğ¸ fd[1]) Ğ·Ğ°ĞºÑ€Ñ‹Ğ»Ğ¸

## Func fork()
ğŸ‘´ Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ	> 0 (PID Ñ€ĞµĞ±Ñ‘Ğ½ĞºĞ°)
ğŸ‘¶ Ñ€ĞµĞ±Ñ‘Ğ½Ğ¾Ğº	= 0
âŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°	< 0

## write fd[1] ..., ...
| Ğ´ĞµÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ñ€     | ĞºÑƒĞ´Ğ° Ğ¿Ğ¸ÑˆĞµÑ‚           |
| -------------- | -------------------- |
| `1` (`stdout`) | Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»             |
| `2` (`stderr`) | Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» (Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸)    |
| `fd[1]`        | Ñ‚Ñ€ÑƒĞ±Ğ° (Ğ² Ğ±ÑƒÑ„ĞµÑ€ ÑĞ´Ñ€Ğ°) |

## close(fd[0]) || close(fd[1])
fd[0] â€” Ğ´Ğ»Ñ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ
fd[1] â€” Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸

Ğ² Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½ĞµĞ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ Ñ‚Ñ‹ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¸Ğ· Ñ‚Ñ€ÑƒĞ±Ñ‹ â†’ Ñ‚ĞµĞ±Ğµ Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½ ĞºĞ¾Ğ½ĞµÑ† Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸

Ğ² Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ Ñ‚Ñ‹ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ² Ñ‚Ñ€ÑƒĞ±Ñƒ â†’ Ñ‚ĞµĞ±Ğµ Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½ ĞºĞ¾Ğ½ĞµÑ† Ğ´Ğ»Ñ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ

ğŸ‘´Ğ Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ:
close(fd[0]);         // Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ½Ğµ Ğ±ÑƒĞ´ĞµĞ¼
write(fd[1], â€¦);      // Ğ¿Ğ¸ÑˆĞµĞ¼
close(fd[1]);         // Ğ²ÑÑ‘, Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ»Ğ¸ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ
ğŸ‘¶Ğ”Ğ¾Ñ‡ĞµÑ€Ğ½Ğ¸Ğ¹:
close(fd[1]);         // Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ½Ğµ Ğ±ÑƒĞ´ĞµĞ¼
read(fd[0], â€¦);       // Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼
close(fd[0]);         // Ğ²ÑÑ‘, Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ»Ğ¸ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ
 ĞšĞ¾Ğ³Ğ´Ğ° Ğ¾Ğ±Ğ° ĞºĞ¾Ğ½Ñ†Ğ° Ğ·Ğ°ĞºÑ€Ñ‹Ğ»Ğ¸ â€” Ñ‚Ñ€ÑƒĞ±Ğ° Ğ¸ÑÑ‡ĞµĞ·Ğ°ĞµÑ‚.|
 Ğ§Ñ‚Ğ¾Ğ±Ñ‹ ÑĞ½Ğ¾Ğ²Ğ° Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¸Ğ»Ğ¸ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ, Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑĞ½Ğ¾Ğ²Ğ° Ğ²Ñ‹Ğ·Ğ²Ğ°Ñ‚ÑŒ pipe(fd) Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ Ñ‚Ñ€ÑƒĞ±Ñƒ.

## waitpid
waitpid() â€” ÑÑ‚Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ, Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ¶Ğ´Ñ‘Ñ‚, Ğ¿Ğ¾ĞºĞ° Ğ¾Ğ´Ğ¸Ğ½ Ğ¸Ğ· ĞµĞ³Ğ¾ Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ² Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑÑ.
waitpid(pid1, NULL, 0);
pid1 â€” ÑÑ‚Ğ¾ PID Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» Ğ¿Ğ¾ÑĞ»Ğµ fork().
NULL â€” ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ° ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ (Ğ² Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¼ ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ¾Ğ½ Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½, Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ NULL).
0 â€” Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ (0 â†’ Ğ¶Ğ´Ğ°Ñ‚ÑŒ, Ğ¿Ğ¾ĞºĞ° Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑÑ).

## wait
ÑĞ°Ğ¼Ğ°Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ. 
Ğ¶Ğ´Ñ‘Ñ‚ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ»ÑÑ.
Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞµĞ³Ğ¾ PID.
ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ (Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾) Ğ·Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ.

## Ğ¤Ğ»Ğ°Ğ³ O_RDONLY
O_RDONLY	Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ
O_WRONLY	Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ
O_RDWR	Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¸ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ

## Ğ¤Ğ»Ğ°Ğ³ FILENO
STDIN_FILENO	0	Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ //Ğ¿ĞµÑ€ĞµĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ² ĞµĞ³Ğ¾ Ğ½Ğ° Ñ„Ğ°Ğ¹Ğ», Ñ‚Ñ‹ Ğ±ÑƒĞ´ĞµÑˆÑŒ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· ÑÑ‚Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ²Ğ²Ğ¾Ğ´Ğ° Ñ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹
STDOUT_FILENO	1	Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ //Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ² ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´, Ğ±ÑƒĞ´ÑƒÑ‚ Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ² ÑÑ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ», Ğ° Ğ½Ğµ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ½Ğ° ÑĞºÑ€Ğ°Ğ½.
STDERR_FILENO	2	Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸